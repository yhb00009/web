(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e485b4d"],{"30b50":function(e,n,t){e.exports=t.p+"static/img/card.818dc5fe.png"},"3fdb":function(e,n,t){e.exports=t.p+"static/img/btn_bujiao.05d5cdca.png"},b276:function(e,n,t){"use strict";t.r(n),t.d(n,"coordinate",(function(){return a})),t.d(n,"coordinate2",(function(){return r})),t.d(n,"deal",(function(){return d}));t("b680"),t("ace4"),t("d3b7"),t("cfc3"),t("9a8c"),t("a975"),t("735e"),t("c1ac"),t("d139"),t("3a7b"),t("d5d6"),t("82f8"),t("e91f"),t("60bd"),t("5f96"),t("3280"),t("3fcc"),t("ca91"),t("25a1"),t("cd26"),t("3c5d"),t("2954"),t("649e"),t("219c"),t("170b"),t("b39a"),t("72f7"),t("d81d"),t("4e82"),t("fb6a");var i={0:{name:"大王",x:710,y:646,index:0},1:{name:"小王",x:592,y:646,index:1},2:{name:"♠2",x:710,y:485,index:2},3:{name:"♣2",x:1064,y:163,index:3},4:{name:"♦2",x:474,y:163,index:4},5:{name:"♥2",x:946,y:324,index:5},6:{name:"♠A",x:828,y:485,index:6},7:{name:"♣A",x:1182,y:163,index:7},8:{name:"♦A",x:238,y:2,index:8},9:{name:"♥A",x:1064,y:324,index:9},10:{name:"♠K",x:828,y:646,index:10},11:{name:"♣K",x:1182,y:324,index:11},12:{name:"♦K",x:1300,y:163,index:12},13:{name:"♥K",x:1064,y:485,index:13},14:{name:"♠Q",x:946,y:646,index:14},15:{name:"♣Q",x:1300,y:324,index:15},16:{name:"♦Q",x:1418,y:163,index:16},17:{name:"♥Q",x:1182,y:485,index:17},18:{name:"♠J",x:1064,y:646,index:18},19:{name:"♣J",x:1418,y:324,index:19},20:{name:"♦J",x:2,y:2,index:20},21:{name:"♥J",x:1300,y:485,index:21},22:{name:"♠10",x:1300,y:646,index:22},23:{name:"♣10",x:2,y:163,index:23},24:{name:"♦10",x:120,y:2,index:24},25:{name:"♥10",x:1418,y:485,index:25},26:{name:"♠9",x:1418,y:646,index:26},27:{name:"♣9",x:120,y:163,index:27},28:{name:"♦9",x:2,y:646,index:28},29:{name:"♥9",x:2,y:324,index:29},30:{name:"♠8",x:2,y:485,index:30},31:{name:"♣8",x:238,y:163,index:31},32:{name:"♦8",x:120,y:646,index:32},33:{name:"♥8",x:120,y:324,index:33},34:{name:"♠7",x:120,y:485,index:34},35:{name:"♣7",x:356,y:163,index:35},36:{name:"♦7",x:238,y:646,index:36},37:{name:"♥7",x:238,y:324,index:37},38:{name:"♠6",x:238,y:485,index:38},39:{name:"♣6",x:592,y:163,index:39},40:{name:"♦6",x:356,y:646,index:40},41:{name:"♥6",x:356,y:324,index:41},42:{name:"♠5",x:356,y:485,index:42},43:{name:"♣5",x:710,y:163,index:43},44:{name:"♦5",x:1182,y:646,index:44},45:{name:"♥5",x:474,y:324,index:45},46:{name:"♠4",x:474,y:485,index:46},47:{name:"♣4",x:828,y:163,index:47},48:{name:"♦4",x:946,y:485,index:48},49:{name:"♥4",x:592,y:324,index:49},50:{name:"♠3",x:592,y:485,index:50},51:{name:"♣3",x:946,y:163,index:51},52:{name:"♦3",x:710,y:324,index:52},53:{name:"♥3",x:828,y:324,index:53},54:{name:"背面",x:474,y:646,index:54}},a=function(e,n){var t=(e/1550).toFixed(5),i=(n/809).toFixed(5),a=((e+116)/1550).toFixed(5),r=((n+159)/809).toFixed(5),d=new Float32Array([t,r,a,r,t,i,a,i]);return d},r=function(e,n){var t=new Float32Array([0,1,1,1,0,0,1,0]);return t},d=function(){var e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53];function n(e,n){return e-n}Array.prototype.deranged||(Array.prototype.deranged=function(){for(var e,n,t=this.length;t;e=parseInt(Math.random()*t),n=this[--t],this[t]=this[e],this[e]=n);return this});var t=e.deranged(),a=t.slice(0,17).sort(n).map((function(e){return i[e]})),r=t.slice(17,34).sort(n).map((function(e){return i[e]})),d=t.slice(34,51).sort(n).map((function(e){return i[e]})),o=t.slice(51,54).sort(n).map((function(e){return i[e]})),c=[54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54],h=c.map((function(e){return i[e]}));return[a,r,d,o,h]}},b688:function(e,n,t){e.exports=t.p+"static/img/table_bg_1.7f3bf7bc.jpg"},ed17:function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"three"}})},a=[],r=(t("d3b7"),t("159b"),t("b0c0"),t("a434"),t("5a89")),d=t("4721"),o=t("b688"),c=t.n(o),h=t("30b50"),s=t.n(h),u=t("3fdb"),x=t.n(u),m=t("f8e6"),f=t.n(m),p=t("b276"),l={name:"App",components:{},data:function(){return{bgWidth:1136,bgHeight:768,cdWidth:116,cdHeight:159,moveHeight:20,scene:new r["o"],camera:null,gui:null,leftGroup:new r["d"],rightGroup:new r["d"],mainGroup:new r["d"],topGroup:new r["d"],checkMesh:[],buttonGroup:new r["d"]}},created:function(){},mounted:function(){this.init()},methods:{init:function(){this.initBackGround();var e=Object(p["deal"])();this.sidePalyer(e[4]),this.middlePalyer(e[0]),this.middleButton(),this.topPalyer(e[3]),this.initCamera(),this.scene.add(new r["a"](150)),this.initRenderer()},initCardMaterial:function(){return new r["h"]({map:(new r["r"]).load(s.a),transparent:!0})},initButtonMaterial:function(e){return new r["h"]({map:(new r["r"]).load(e),transparent:!0})},initBackGround:function(){var e=new r["k"](this.bgWidth,this.bgHeight),n=new r["h"]({map:(new r["r"]).load(c.a),transparent:!0}),t=new r["g"](e,n);t.position.set(0,0,0),this.scene.add(t)},sidePalyer:function(e){var n=this;e.forEach((function(e){var t=new r["k"](n.cdWidth,n.cdHeight);t.attributes.uv=new r["b"](Object(p["coordinate"])(e.x,e.y),2),n.leftGroup.add(new r["g"](t,n.initCardMaterial())),n.rightGroup.add(new r["g"](t,n.initCardMaterial()))}));var t=this.leftGroup.children,i=this.rightGroup.children;t.forEach((function(e){return e.rotateZ(1.55)})),i.forEach((function(e){return e.rotateZ(1.55)}));for(var a=20,d=(this.bgWidth-this.cdHeight)/2,o=(this.cdHeight-(t.length*a+this.cdWidth))/2,c=(this.cdHeight-(i.length*a+this.cdWidth))/2,h=0;h<t.length;h++)t[h].position.set(0-d,o+h*a,h+1);for(var s=0;s<i.length;s++)i[s].position.set(d,c+s*a,s+1);this.scene.add(this.leftGroup),this.scene.add(this.rightGroup)},countMiddlePosition:function(){for(var e=this.mainGroup.children,n=40,t=0-(e.length-1)*n/2,i=0-(this.bgHeight-this.cdHeight)/2,a=0;a<e.length;a++)e[a].position.set(t+a*n,i,a+1)},middlePalyer:function(e){var n=this;e.forEach((function(e){var t=new r["k"](n.cdWidth,n.cdHeight);t.attributes.uv=new r["b"](Object(p["coordinate"])(e.x,e.y),2);var i=new r["g"](t,n.initCardMaterial());i.name=e.index,n.mainGroup.add(i)})),this.countMiddlePosition(),this.scene.add(this.mainGroup)},middleButton:function(){var e=this,n=[{pic:f.a,index:"chupai"},{pic:x.a,index:"buchu"}],t=211,i=84;n.forEach((function(n){var a=new r["k"](t,i);a.attributes.uv=new r["b"](Object(p["coordinate2"])(),2);var d=new r["g"](a,e.initButtonMaterial(n.pic));d.name=n.index,e.buttonGroup.add(d)}));for(var a=this.buttonGroup.children,d=t,o=0-(a.length-1)*d/2,c=0-(this.bgHeight-i)/2+this.cdHeight+2*this.moveHeight,h=0;h<a.length;h++)a[h].position.set(o+h*d,c,1);this.scene.add(this.buttonGroup)},topPalyer:function(e){var n=this;e.forEach((function(e){var t=new r["k"](n.cdWidth,n.cdHeight);t.attributes.uv=new r["b"](Object(p["coordinate"])(e.x,e.y),2),n.topGroup.add(new r["g"](t,n.initCardMaterial()))}));for(var t=this.topGroup.children,i=40,a=0-(t.length-1)*i/2,d=(this.bgHeight-this.cdHeight)/2,o=0;o<t.length;o++)t[o].position.set(a+o*i,d,o+1);this.scene.add(this.topGroup)},initGui:function(){},initCamera:function(){var e=this.bgWidth/this.bgHeight,n=this.bgHeight;this.camera=new r["i"](-n*e,n*e,n,-n,1,2e3),this.camera.position.set(0,0,100),this.camera.lookAt(0,0,0)},initRenderer:function(){var e=new r["u"]({antialias:!0});e.setClearColor(4473924,1),e.setSize(this.bgWidth,this.bgHeight),e.render(this.scene,this.camera);var n=this.scene,t=this.camera;function i(){e.render(n,t),requestAnimationFrame(i)}i(),new d["a"](this.camera,e.domElement),document.getElementById("three").appendChild(e.domElement);var a=this.bgWidth,o=this.bgHeight,c=this;e.domElement.addEventListener("click",(function(e){var n=e.offsetX/a*2-1,i=-e.offsetY/o*2+1,d=new r["n"];d.setFromCamera(new r["s"](n,i),t);var h=d.intersectObjects(c.mainGroup.children);if(h.length>0)c.checkCardHand(h[0].object);else{var s=d.intersectObjects(c.buttonGroup.children);s.length>0&&c.outCardHand(s[0].object.name)}}))},checkCardHand:function(e){var n=this.checkMesh.indexOf(e);-1!==n?(this.checkMesh.splice(n,1),e.position.y-=this.moveHeight):(this.checkMesh.push(e),e.position.y+=this.moveHeight)},outCardHand:function(e){var n=this;"buchu"===e?(this.checkMesh.forEach((function(e){e.position.y-=n.moveHeight})),this.checkMesh=[]):(this.checkMesh.forEach((function(e){n.mainGroup.remove(e)})),this.countMiddlePosition())}}},g=l,y=t("2877"),b=Object(y["a"])(g,i,a,!1,null,null,null);n["default"]=b.exports},f8e6:function(e,n,t){e.exports=t.p+"static/img/btn_chupai.ce997572.png"}}]);